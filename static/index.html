<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-85F78RGWJQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-85F78RGWJQ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rilono</title>
    <link rel="stylesheet" href="/static/styles.css">
    <!-- Cloudflare Turnstile -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/static/logo.png">
    <link rel="apple-touch-icon" href="/static/logo.png">
    <!-- Google Places API - Replace YOUR_GOOGLE_API_KEY with your actual API key -->
    <!-- Get your API key from: https://console.cloud.google.com/google/maps-apis -->
    <script>
        // You can set your Google API key here or use an environment variable
        const GOOGLE_API_KEY = 'YOUR_GOOGLE_API_KEY';
        if (GOOGLE_API_KEY !== 'YOUR_GOOGLE_API_KEY') {
            const script = document.createElement('script');
            script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_API_KEY}&libraries=places`;
            script.async = true;
            script.defer = true;
            document.head.appendChild(script);
        }
    </script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="#" onclick="showHome(); return false;" style="display: flex; align-items: center; gap: 0.75rem; text-decoration: none; color: white;">
                    <img src="/static/logo.png" alt="Rilono Logo" style="height: 40px; width: auto; object-fit: contain;">
                    <h1 style="margin: 0;">Rilono</h1>
                </a>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/marketplace" onclick="event.preventDefault(); showMarketplace(); return false;">Marketplace</a>
                <a href="/sell" onclick="event.preventDefault(); showCreateItem(); return false;" id="createLink" style="display: none;">Sell Item</a>
                <a href="/login" onclick="event.preventDefault(); showLogin(); return false;" id="loginLink">Login</a>
                <a href="/register" onclick="event.preventDefault(); showRegister(); return false;" id="registerLink">Register</a>
                <!-- Notification Bell -->
                <div class="notification-container" id="notificationContainer" style="display: none; position: relative;">
                    <button class="notification-bell" onclick="toggleNotifications()" id="notificationBell" title="Notifications">
                        üîî
                        <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
                    </button>
                    <div class="notification-dropdown" id="notificationDropdown" style="display: none;">
                        <div class="notification-header">
                            <h3>Notifications</h3>
                            <button onclick="clearAllNotifications()" class="clear-all-btn">Clear All</button>
                        </div>
                        <div class="notification-list" id="notificationList">
                            <p style="text-align: center; padding: 1rem; color: var(--text-secondary);">No notifications</p>
                        </div>
                    </div>
                </div>
                <div class="user-menu" id="userMenu" style="display: none; position: relative;">
                    <div class="user-menu-trigger" onclick="toggleUserMenu()" id="userInfo">
                        <!-- User info will be inserted here -->
                    </div>
                    <div class="user-menu-dropdown" id="userMenuDropdown" style="display: none;">
                        <a href="/dashboard" onclick="event.preventDefault(); showDashboard(); toggleUserMenu(); return false;">
                            <span>üìä</span> Dashboard
                        </a>
                        <a href="/listings" onclick="event.preventDefault(); showMyListings(); toggleUserMenu(); return false;">
                            <span>üì¶</span> My Listings
                        </a>
                        <a href="/messages" onclick="toggleUserMenu(); return true;">
                            <span>üí¨</span> Messages <span id="unreadBadge" style="display: none; background: var(--danger-color); color: white; padding: 0.125rem 0.5rem; border-radius: 1rem; font-size: 0.75rem; margin-left: 0.5rem;">0</span>
                        </a>
                        <a href="#" onclick="logout(); toggleUserMenu(); return false;">
                            <span>üö™</span> Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Login Form -->
        <div id="loginSection" class="section" style="display: none;">
            <div class="auth-card">
                <h2>Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">University Email</label>
                        <input type="email" id="loginEmail" required placeholder="your.email@university.edu">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <div style="text-align: right; margin-bottom: 1rem;">
                        <a href="#" onclick="event.preventDefault(); showForgotPassword(); return false;" style="color: var(--primary-color); text-decoration: none; font-size: 0.875rem;">Forgot Password?</a>
                    </div>
                    <div class="form-group" style="display: flex; justify-content: center; margin-bottom: 1rem;">
                        <div id="turnstile-login" class="cf-turnstile" data-theme="light"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <p class="auth-switch">Don't have an account? <a href="#" onclick="showRegister(); return false;">Register here</a></p>
            </div>
        </div>

        <!-- Forgot Password Form -->
        <div id="forgotPasswordSection" class="section" style="display: none;">
            <div class="auth-card">
                <h2>Forgot Password</h2>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem; text-align: center;">
                    Enter your email address and we'll send you a link to reset your password.
                </p>
                <form id="forgotPasswordForm">
                    <div class="form-group">
                        <label for="forgotPasswordEmail">Email Address</label>
                        <input type="email" id="forgotPasswordEmail" required placeholder="your.email@university.edu">
                    </div>
                    <button type="submit" class="btn btn-primary">Send Reset Link</button>
                </form>
                <p class="auth-switch">
                    <a href="#" onclick="showLogin(); return false;">Back to Login</a> | 
                    <a href="#" onclick="showRegister(); return false;">Create Account</a>
                </p>
            </div>
        </div>

        <!-- Reset Password Form -->
        <div id="resetPasswordSection" class="section" style="display: none;">
            <div class="auth-card">
                <h2>Reset Password</h2>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem; text-align: center;">
                    Enter your new password below.
                </p>
                <form id="resetPasswordForm">
                    <input type="hidden" id="resetToken" value="">
                    <div class="form-group">
                        <label for="resetPasswordNew">New Password</label>
                        <input type="password" id="resetPasswordNew" required minlength="6">
                        <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem; font-size: 0.875rem;">
                            Password must be at least 6 characters long
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="resetPasswordConfirm">Confirm New Password</label>
                        <input type="password" id="resetPasswordConfirm" required minlength="6">
                    </div>
                    <button type="submit" class="btn btn-primary">Reset Password</button>
                </form>
                <p class="auth-switch">
                    <a href="#" onclick="showLogin(); return false;">Back to Login</a>
                </p>
            </div>
        </div>

        <!-- Email Verification Section -->
        <div id="verificationSection" class="section" style="display: none;">
            <div class="auth-card">
                <h2>Verify Your Email</h2>
                <div id="verificationContent">
                    <p style="text-align: center; color: var(--text-secondary); margin-bottom: 2rem;">
                        Please check your email and click the verification link to activate your account.
                    </p>
                    <div style="text-align: center;">
                        <button onclick="resendVerificationEmail()" class="btn btn-primary">Resend Verification Email</button>
                        <p style="margin-top: 1rem;">
                            <a href="#" onclick="showLogin(); return false;">Back to Login</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Register Form -->
        <div id="registerSection" class="section" style="display: none;">
            <div class="auth-card">
                <h2>Create Account</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerEmail">University Email *</label>
                        <input type="email" id="registerEmail" required placeholder="your.name@university.edu">
                        <small id="emailValidationMessage" style="display: none; margin-top: 0.5rem; font-size: 0.875rem;"></small>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password *</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="registerFullName">Full Name</label>
                        <input type="text" id="registerFullName">
                    </div>
                    <div class="form-group">
                        <label for="registerUniversity">University</label>
                        <input type="text" id="registerUniversity" readonly style="background-color: var(--bg-color); cursor: not-allowed;" placeholder="Auto-filled from your email domain">
                        <small style="display: block; margin-top: 0.5rem; color: var(--text-secondary); font-size: 0.875rem;">
                            University is automatically detected from your email domain
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="registerPhone">Phone</label>
                        <input type="tel" id="registerPhone">
                    </div>
                    <div class="form-group" style="display: flex; justify-content: center; margin-bottom: 1rem;">
                        <div id="turnstile-register" class="cf-turnstile" data-theme="light"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
                <p class="auth-switch">Already have an account? <a href="#" onclick="showLogin(); return false;">Login here</a></p>
            </div>
        </div>

        <!-- Homepage / Landing Page -->
        <div id="homepageSection" class="section" style="display: none;">
            <!-- Hero Section -->
            <div class="homepage-hero">
                <div class="hero-background">
                    <div class="hero-blob hero-blob-1"></div>
                    <div class="hero-blob hero-blob-2"></div>
                    <div class="hero-blob hero-blob-3"></div>
                </div>
                <div class="hero-content">
                    <div class="hero-badge">
                        <span class="badge-icon">üéì</span>
                        <span>Trusted by Students Worldwide</span>
                    </div>
                    <h1 class="hero-title">
                        <span class="title-gradient">Buy, Sell & Connect</span><br>
                        <span class="title-main">Your Student Marketplace</span>
                    </h1>
                    <p class="hero-subtitle">Join thousands of students buying and selling textbooks, electronics, furniture, and more. Safe, secure, and student-focused.</p>
                    <div class="hero-buttons">
                        <a href="/marketplace" onclick="event.preventDefault(); showMarketplace(); return false;" class="btn btn-primary btn-large btn-hero-primary">
                            <span>Browse Marketplace</span>
                            <span class="btn-icon">‚Üí</span>
                        </a>
                        <a href="/sell" onclick="event.preventDefault(); showCreateItem(); return false;" class="btn btn-secondary btn-large btn-hero-secondary" id="heroSellBtn" style="display: none;">
                            <span>Sell Your Item</span>
                        </a>
                        <a href="/register" onclick="event.preventDefault(); showRegister(); return false;" class="btn btn-secondary btn-large btn-hero-secondary" id="heroRegisterBtn">
                            <span>Get Started Free</span>
                        </a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number">10K+</div>
                            <div class="stat-label">Active Users</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">50K+</div>
                            <div class="stat-label">Items Listed</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">100+</div>
                            <div class="stat-label">Universities</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- How It Works Section -->
            <div class="homepage-how-it-works">
                <div class="section-header">
                    <h2 class="section-title">How It Works</h2>
                    <p class="section-subtitle">Get started in three simple steps</p>
                </div>
                <div class="steps-container">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <div class="step-icon">üìù</div>
                        <h3>Create Account</h3>
                        <p>Sign up with your university email and create your profile in seconds</p>
                    </div>
                    <div class="step-connector"></div>
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <div class="step-icon">üì∏</div>
                        <h3>List or Browse</h3>
                        <p>Upload items to sell or browse thousands of listings from fellow students</p>
                    </div>
                    <div class="step-connector"></div>
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <div class="step-icon">ü§ù</div>
                        <h3>Connect & Trade</h3>
                        <p>Message sellers directly, negotiate, and complete your transaction safely</p>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <div class="homepage-features">
                <div class="section-header">
                    <h2 class="section-title">Why Choose Rilono?</h2>
                    <p class="section-subtitle">Everything you need for a seamless marketplace experience</p>
                </div>
                <div class="features-container">
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon">üìö</div>
                        </div>
                        <h3>Textbooks & More</h3>
                        <p>Find affordable textbooks, electronics, furniture, and everything students need at unbeatable prices.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon">üè†</div>
                        </div>
                        <h3>Subleases</h3>
                        <p>Find or list sublease opportunities perfect for student housing needs. Connect with roommates easily.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon">üí¨</div>
                        </div>
                        <h3>Direct Messaging</h3>
                        <p>Connect directly with sellers and buyers through our built-in messaging system. No third-party apps needed.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon">üîí</div>
                        </div>
                        <h3>Secure & Safe</h3>
                        <p>Verified student accounts ensure a trusted marketplace experience. Your safety is our priority.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon">üîç</div>
                        </div>
                        <h3>Smart Search</h3>
                        <p>Advanced filters help you find exactly what you're looking for. Search by category, price, and location.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon">üì±</div>
                        </div>
                        <h3>Mobile Friendly</h3>
                        <p>Access Rilono from any device. Browse, list, and message on the go with our responsive design.</p>
                    </div>
                </div>
            </div>

            <!-- Categories Preview -->
            <div class="homepage-categories">
                <div class="section-header">
                    <h2 class="section-title">Shop by Category</h2>
                    <p class="section-subtitle">Explore items across different categories</p>
                </div>
                <div class="categories-grid">
                    <div class="category-card" onclick="event.preventDefault(); showMarketplace(); document.getElementById('categoryFilter').value='textbooks'; loadItems(); return false;">
                        <div class="category-icon">üìö</div>
                        <h3>Textbooks</h3>
                        <p>Find your course materials</p>
                    </div>
                    <div class="category-card" onclick="event.preventDefault(); showMarketplace(); document.getElementById('categoryFilter').value='electronics'; loadItems(); return false;">
                        <div class="category-icon">üíª</div>
                        <h3>Electronics</h3>
                        <p>Laptops, phones & more</p>
                    </div>
                    <div class="category-card" onclick="event.preventDefault(); showMarketplace(); document.getElementById('categoryFilter').value='furniture'; loadItems(); return false;">
                        <div class="category-icon">ü™ë</div>
                        <h3>Furniture</h3>
                        <p>Dorm essentials</p>
                    </div>
                    <div class="category-card" onclick="event.preventDefault(); showMarketplace(); document.getElementById('categoryFilter').value='clothing'; loadItems(); return false;">
                        <div class="category-icon">üëï</div>
                        <h3>Clothing</h3>
                        <p>Style on a budget</p>
                    </div>
                    <div class="category-card" onclick="event.preventDefault(); showMarketplace(); document.getElementById('categoryFilter').value='sports'; loadItems(); return false;">
                        <div class="category-icon">‚öΩ</div>
                        <h3>Sports</h3>
                        <p>Gear & equipment</p>
                    </div>
                    <div class="category-card" onclick="event.preventDefault(); showMarketplace(); document.getElementById('categoryFilter').value='sublease'; loadItems(); return false;">
                        <div class="category-icon">üè†</div>
                        <h3>Sublease</h3>
                        <p>Housing options</p>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="homepage-cta">
                <div class="cta-background"></div>
                <div class="cta-content">
                    <h2>Ready to Start Trading?</h2>
                    <p>Join thousands of students buying and selling on Rilono. Create your free account today and start saving money!</p>
                    <div class="cta-buttons">
                        <a href="/register" onclick="event.preventDefault(); showRegister(); return false;" class="btn btn-primary btn-large" id="ctaRegisterBtn">
                            <span>Create Free Account</span>
                            <span class="btn-icon">‚Üí</span>
                        </a>
                        <a href="/marketplace" onclick="event.preventDefault(); showMarketplace(); return false;" class="btn btn-cta-secondary btn-large">
                            <span>Browse Without Account</span>
                        </a>
                    </div>
                    <div class="cta-features">
                        <div class="cta-feature">
                            <span class="cta-check">‚úì</span>
                            <span>Free to join</span>
                        </div>
                        <div class="cta-feature">
                            <span class="cta-check">‚úì</span>
                            <span>No hidden fees</span>
                        </div>
                        <div class="cta-feature">
                            <span class="cta-check">‚úì</span>
                            <span>Instant access</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Marketplace / Browse Items -->
        <div id="marketplaceSection" class="section" style="display: none;">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search items...">
                <select id="categoryFilter">
                    <option value="">All Categories</option>
                    <option value="textbooks">Textbooks</option>
                    <option value="electronics">Electronics</option>
                    <option value="furniture">Furniture</option>
                    <option value="clothing">Clothing</option>
                    <option value="sports">Sports</option>
                    <option value="sublease">Sublease</option>
                    <option value="other">Other</option>
                </select>
                <div class="price-filter">
                    <input type="number" id="minPrice" placeholder="Min $" step="0.01">
                    <input type="number" id="maxPrice" placeholder="Max $" step="0.01">
                </div>
                <button onclick="loadItems(); return false;" class="btn btn-primary">Search</button>
            </div>
            <div id="itemsGrid" class="items-grid">
                <!-- Items will be loaded here -->
            </div>
        </div>

        <!-- Create Item Form -->
        <div id="createItemSection" class="section" style="display: none;">
            <div class="form-card">
                <h2 id="itemFormTitle">List an Item for Sale</h2>
                <form id="createItemForm">
                    <input type="hidden" id="editingItemId" value="">
                    <div class="form-group">
                        <label for="itemTitle">Title *</label>
                        <input type="text" id="itemTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="itemDescription">Description</label>
                        <textarea id="itemDescription" rows="4"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="itemPrice">Price ($) *</label>
                            <input type="number" id="itemPrice" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="itemCategory">Category</label>
                            <select id="itemCategory">
                                <option value="">Select Category</option>
                                <option value="textbooks">Textbooks</option>
                                <option value="electronics">Electronics</option>
                                <option value="furniture">Furniture</option>
                                <option value="clothing">Clothing</option>
                                <option value="sports">Sports</option>
                                <option value="sublease">Sublease</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="itemCondition">Condition</label>
                        <select id="itemCondition">
                            <option value="">Select Condition</option>
                            <option value="new">New</option>
                            <option value="like_new">Like New</option>
                            <option value="good">Good</option>
                            <option value="fair">Fair</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="itemImageFiles">Upload Images</label>
                        <input type="file" id="itemImageFiles" accept="image/*" multiple>
                        <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                            Select multiple images (max 10, 5MB each, formats: JPG, PNG, GIF, WebP)
                        </small>
                    </div>
                    <div id="imagePreviews" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 1rem; margin-top: 1rem;">
                        <!-- Image previews will be added here -->
                    </div>
                    <div class="form-group">
                        <label for="itemAddress">Pickup Location</label>
                        <input type="text" id="itemAddress" placeholder="Start typing your address..." autocomplete="off">
                        <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                            Enter the address where buyers can pick up the item (optional)
                        </small>
                        <div id="addressAutocomplete" style="display: none; position: absolute; z-index: 1000; background: white; border: 1px solid var(--border-color); border-radius: 0.5rem; max-height: 200px; overflow-y: auto; width: 100%; box-shadow: var(--shadow-lg);"></div>
                    </div>
                    <div class="form-row" style="display: none;" id="addressDetails">
                        <div class="form-group">
                            <label for="itemCity">City</label>
                            <input type="text" id="itemCity" readonly>
                        </div>
                        <div class="form-group">
                            <label for="itemState">State</label>
                            <input type="text" id="itemState" readonly>
                        </div>
                        <div class="form-group">
                            <label for="itemZipCode">Zip Code</label>
                            <input type="text" id="itemZipCode" readonly>
                        </div>
                    </div>
                    <input type="hidden" id="itemLatitude">
                    <input type="hidden" id="itemLongitude">
                    <button type="submit" class="btn btn-primary" id="itemSubmitButton">List Item</button>
                </form>
            </div>
        </div>

        <!-- My Listings -->
        <div id="myListingsSection" class="section" style="display: none;">
            <h2>My Listings</h2>
            <div id="myItemsGrid" class="items-grid">
                <!-- User's items will be loaded here -->
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboardSection" class="section" style="display: none;">
            <div class="dashboard-container">
                <!-- Dashboard Sidebar Navigation -->
                <div class="dashboard-sidebar">
                    <div class="sidebar-header">
                        <h2>Dashboard</h2>
                    </div>
                    <nav class="sidebar-nav">
                        <a href="#" class="nav-item active" data-tab="overview" onclick="switchDashboardTab('overview'); return false;">
                            <span class="nav-icon">üìä</span>
                            <span class="nav-label">Overview</span>
                        </a>
                        <a href="#" class="nav-item" data-tab="profile" onclick="switchDashboardTab('profile'); return false;">
                            <span class="nav-icon">üë§</span>
                            <span class="nav-label">Profile</span>
                        </a>
                        <a href="#" class="nav-item" data-tab="documents" onclick="switchDashboardTab('documents'); return false;">
                            <span class="nav-icon">üìÑ</span>
                            <span class="nav-label">Documents</span>
                        </a>
                        <a href="#" class="nav-item" data-tab="visa" onclick="switchDashboardTab('visa'); return false;">
                            <span class="nav-icon">üõÇ</span>
                            <span class="nav-label">Visa Status</span>
                        </a>
                        <a href="#" class="nav-item" data-tab="records" onclick="switchDashboardTab('records'); return false;">
                            <span class="nav-icon">ü§ñ</span>
                            <span class="nav-label">Rilono AI</span>
                        </a>
                    </nav>
                </div>
                
                <!-- Dashboard Content Area -->
                <div class="dashboard-content">
                    <!-- Overview Tab -->
                    <div id="dashboardTab-overview" class="dashboard-tab active">
                        <div class="tab-header">
                            <h2>Overview</h2>
                            <p class="tab-subtitle">Your dashboard at a glance</p>
                        </div>
            <div class="dashboard-grid">
                            <!-- Quick Stats Widget -->
                            <div class="dashboard-widget">
                                <div class="widget-header">
                                    <h3>üìä Quick Stats</h3>
                                </div>
                                <div class="widget-content">
                                    <div id="quickStatsContent" style="padding: 1rem;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid var(--border-color);">
                                            <span style="color: var(--text-secondary);">Active Listings</span>
                                            <strong id="activeListingsCount">-</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid var(--border-color);">
                                            <span style="color: var(--text-secondary);">Sold Items</span>
                                            <strong id="soldItemsCount">-</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid var(--border-color);">
                                            <span style="color: var(--text-secondary);">Messages</span>
                                            <strong id="messagesCount">-</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0;">
                                            <span style="color: var(--text-secondary);">Unread</span>
                                            <strong id="unreadCount">-</strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Actions Widget -->
                            <div class="dashboard-widget">
                                <div class="widget-header">
                                    <h3>‚ö° Quick Actions</h3>
                                </div>
                                <div class="widget-content">
                                    <div style="padding: 1rem;">
                                        <a href="#" onclick="event.preventDefault(); showCreateItem(); return false;" class="quick-action-btn">
                                            <span class="action-icon">‚ûï</span>
                                            <span>List New Item</span>
                                        </a>
                                        <a href="#" onclick="event.preventDefault(); showMyListings(); return false;" class="quick-action-btn">
                                            <span class="action-icon">üì¶</span>
                                            <span>My Listings</span>
                                        </a>
                                        <a href="/messages" class="quick-action-btn">
                                            <span class="action-icon">üí¨</span>
                                            <span>Messages</span>
                                        </a>
                                        <a href="#" onclick="event.preventDefault(); switchDashboardTab('documents'); return false;" class="quick-action-btn">
                                            <span class="action-icon">üìÑ</span>
                                            <span>Upload Document</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Profile Completion Widget -->
                            <div class="dashboard-widget" style="grid-column: 1 / -1;">
                                <div class="widget-header">
                                    <h3>üìã Profile Completion</h3>
                                </div>
                                <div class="widget-content">
                                    <div style="padding: 1rem;">
                                        <!-- Profile Completion Percentage -->
                                        <div style="margin-bottom: 1.5rem;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                                <span style="font-weight: 600; color: var(--text-primary);">Profile Completion</span>
                                                <span id="profileCompletionPercent" style="font-weight: 700; font-size: 1.25rem; color: var(--primary-color);">-</span>
                                            </div>
                                            <div style="background: var(--bg-color); border-radius: 0.5rem; height: 12px; overflow: hidden; position: relative;">
                                                <div id="profileCompletionBar" style="background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%); height: 100%; width: 0%; transition: width 0.5s ease; border-radius: 0.5rem;"></div>
                                            </div>
                                        </div>
                                        
                                        <!-- Pending Documents -->
                                        <div>
                                            <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 0.75rem;">Pending Documents</div>
                                            <div id="pendingDocumentsList" style="min-height: 50px;">
                                                <p style="color: var(--text-secondary); text-align: center; padding: 0.5rem; font-size: 0.875rem;">Loading...</p>
                                            </div>
                                            <div style="margin-top: 1rem;">
                                                <a href="#" onclick="event.preventDefault(); switchDashboardTab('documents'); return false;" class="btn btn-primary" style="width: 100%; font-size: 0.875rem; padding: 0.75rem;">Upload Documents</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Profile Tab -->
                    <div id="dashboardTab-profile" class="dashboard-tab">
                        <div class="tab-header">
                            <h2>Profile Settings</h2>
                            <p class="tab-subtitle">Manage your account information</p>
                        </div>
                        <div style="max-width: 800px; margin: 0 auto;">
                <div class="dashboard-widget">
                    <div class="widget-header">
                        <h3>üë§ Profile</h3>
                    </div>
                    <div class="widget-content">
                        <div class="profile-header">
                            <div class="profile-picture-container">
                                <img id="profilePicturePreview" src="" alt="Profile Picture" style="display: none; width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 3px solid var(--primary-color);">
                                <div id="profilePicturePlaceholder" style="width: 100px; height: 100px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; font-weight: 600; border: 3px solid var(--primary-color);"></div>
                            </div>
                            <div>
                                <input type="file" id="profilePictureInput" accept="image/*" style="display: none;">
                                <button type="button" onclick="document.getElementById('profilePictureInput').click()" class="btn btn-primary" style="width: auto; margin-top: 0.5rem; font-size: 0.875rem; padding: 0.5rem 1rem;">Change Picture</button>
                            </div>
                        </div>
                        <form id="profileForm">
                            <div class="form-group">
                                <label for="profileEmail">Email</label>
                                <input type="email" id="profileEmail" readonly style="background: var(--bg-color);">
                            </div>
                            <div class="form-group">
                                <label for="profileUsername">Username</label>
                                <input type="text" id="profileUsername" readonly style="background: var(--bg-color);">
                            </div>
                            <div class="form-group">
                                <label for="profileFullName">Full Name</label>
                                <input type="text" id="profileFullName">
                            </div>
                            <div class="form-group">
                                <label for="profileUniversity">University</label>
                                <input type="text" id="profileUniversity">
                            </div>
                            <div class="form-group">
                                <label for="profilePhone">Phone</label>
                                <input type="tel" id="profilePhone">
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">Update Profile</button>
                        </form>
                        <div class="danger-zone" style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color);">
                            <h4 style="color: var(--danger-color); margin-bottom: 0.5rem; font-size: 1rem;">Danger Zone</h4>
                            <button type="button" onclick="handleDeleteAccount()" class="btn" style="background: var(--danger-color); color: white; width: 100%; font-size: 0.875rem; padding: 0.5rem;">Delete Account</button>
                        </div>
                    </div>
                </div>

                            <!-- Documentation Preferences Widget -->
                            <div class="dashboard-widget" style="margin-top: 1.5rem;">
                                <div class="widget-header">
                                    <h3>üìÑ Documentation Preferences</h3>
                                </div>
                                <div class="widget-content">
                                    <form id="documentationForm">
                                        <div class="form-group">
                                            <label for="documentationCountry">Country</label>
                                            <input type="text" id="documentationCountry" value="United States" readonly style="background: var(--bg-color); cursor: not-allowed;">
                                            <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                                                We are currently only serving the United States
                                            </small>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label for="documentationIntake">Intake *</label>
                                                <select id="documentationIntake" required>
                                                    <option value="">Select Intake</option>
                                                    <option value="Spring">Spring</option>
                                                    <option value="Summer">Summer</option>
                                                    <option value="Fall">Fall</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="documentationYear">Year *</label>
                                                <select id="documentationYear" required>
                                                    <option value="">Select Year</option>
                                                </select>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary" style="width: 100%;">Save Preferences</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Documents Tab -->
                    <div id="dashboardTab-documents" class="dashboard-tab">
                        <div class="tab-header">
                            <h2>AI Documentation Agent</h2>
                            <p class="tab-subtitle">Manage your documents and preferences</p>
                        </div>
                        <div class="dashboard-grid">
                            <div class="dashboard-widget" style="grid-column: 1 / -1;">
                                <div class="widget-header">
                                    <h3>üì§ Upload Documents</h3>
                                </div>
                                <div class="widget-content">
                                    <div style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1rem;">
                                        <strong style="color: #856404;">üîí Zero-Knowledge Encryption</strong>
                                        <p style="color: #856404; margin: 0.5rem 0 0 0; font-size: 0.875rem;">
                                            Your documents are encrypted with your password. Even we cannot read them. 
                                            <strong>If you forget your password, your documents cannot be recovered.</strong>
                                        </p>
                                    </div>
                                    <form id="documentUploadForm">
                                        <div class="form-group">
                                            <label for="documentFile">Select Document</label>
                                            <input type="file" id="documentFile" accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.webp,.xls,.xlsx,.csv,.zip,.rar" required>
                                            <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                                                Supported formats: PDF, DOC, DOCX, TXT, Images, Excel, CSV, ZIP, RAR (Max 50MB)
                                            </small>
                                        </div>
                                        <div class="form-group">
                                            <label for="documentPassword">Your Password *</label>
                                            <input type="password" id="documentPassword" required placeholder="Enter your login password to encrypt">
                                            <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                                                Required to encrypt your document. We use Zero-Knowledge encryption - your password is never stored.
                                            </small>
                                        </div>
                                        <div class="form-group">
                                            <label for="documentType">Document Type</label>
                                            <select id="documentType">
                                                <option value="">Select Type (Optional)</option>
                                                <option value="passport">Passport</option>
                                                <option value="ds-160-confirmation">DS-160 Confirmation Page</option>
                                                <option value="ds-160-application">DS-160 Application</option>
                                                <option value="us-visa-appointment-letter">US Visa Appointment Letter</option>
                                                <option value="visa-fee-receipt">Visa Fee Receipt</option>
                                                <option value="photograph-2x2">Photograph (2x2 Inches)</option>
                                                <option value="form-i20-signed">Form I-20 (Signed)</option>
                                                <option value="previous-i20s">Previous I-20's</option>
                                                <option value="university-admission-letter">University Admission Letter</option>
                                                <option value="bank-balance-certificate">Bank balance certificate</option>
                                                <option value="loan-approval-letter">Loan approval letter (if applicable)</option>
                                                <option value="affidavit-of-support">Affidavit of Support (if sponsored)</option>
                                                <option value="sponsor-income-proof">Sponsor's income proof (salary slips, IT returns)</option>
                                                <option value="degree-certificates">Degree certificates</option>
                                                <option value="provisional-certificates">Provisional certificates</option>
                                                <option value="transcripts-marksheets">Transcripts / mark sheets (all semesters)</option>
                                                <option value="standardized-test-scores">Standardized test scores (GRE, TOEFL, IELTS, Duolingo ‚Äì if applicable)</option>
                                                <option value="experience-letters">Experience letters</option>
                                                <option value="offer-letters">Offer letters</option>
                                                <option value="salary-slips">Salary slips (last 3‚Äì6 months)</option>
                                                <option value="resume">Resume (updated)</option>
                                                <option value="i901-sevis-fee-confirmation">I-901 SEVIS fee payment confirmation</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="documentDescription">Description (Optional)</label>
                                            <textarea id="documentDescription" rows="2" placeholder="Add any notes about this document..."></textarea>
                                            <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                                                üí° Rilono AI reads this description to better understand and process your document.
                                            </small>
                                        </div>
                                        <button type="submit" class="btn btn-primary" style="width: 100%;">Upload Document</button>
                                    </form>
                                </div>
                            </div>
                            
                            <div class="dashboard-widget" style="grid-column: 1 / -1;">
                                <div class="widget-header">
                                    <h3>üìÅ My Documents</h3>
                                </div>
                                <div class="widget-content">
                                    <div id="documentsContainer">
                                        <p style="color: var(--text-secondary); text-align: center; padding: 1rem;">Loading documents...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Visa Tab -->
                    <div id="dashboardTab-visa" class="dashboard-tab">
                        <div class="tab-header">
                            <h2>Visa Status</h2>
                            <p class="tab-subtitle">Manage your visa documents and status</p>
                        </div>
                        <div class="dashboard-grid">
                <div class="dashboard-widget">
                    <div class="widget-header">
                        <h3>üõÇ Visa Status</h3>
                    </div>
                    <div class="widget-content">
                        <div style="text-align: center; padding: 2rem 1rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üìã</div>
                            <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Manage your visa documents and status</p>
                            <button class="btn btn-primary" onclick="showMessage('Visa feature coming soon!', 'success')">View Visa Info</button>
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>

                    <!-- Rilono AI Tab -->
                    <div id="dashboardTab-records" class="dashboard-tab">
                        <div class="tab-header">
                            <h2>Rilono AI</h2>
                            <p class="tab-subtitle">Your AI assistant for visa documentation and guidance</p>
                        </div>
                        <div style="max-width: 1000px; margin: 0 auto;">
                            <div class="dashboard-widget" style="height: 600px; display: flex; flex-direction: column;">
                                <div class="widget-header" style="border-radius: 1rem 1rem 0 0;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                                        <div style="width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">ü§ñ</div>
                                        <div>
                                            <h3 style="margin: 0; font-size: 1.25rem;">Rilono AI Assistant</h3>
                                            <div style="font-size: 0.875rem; opacity: 0.9; display: flex; align-items: center; gap: 0.5rem; margin-top: 0.25rem;">
                                                <span id="aiStatusIndicator" style="width: 8px; height: 8px; border-radius: 50%; background: #10b981; display: inline-block; animation: pulse 2s infinite;"></span>
                                                <span>Online</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-content" style="flex: 1; display: flex; flex-direction: column; padding: 0; overflow: hidden;">
                                    <!-- Chat Messages Area -->
                                    <div id="rilonoAiChatMessages" style="flex: 1; overflow-y: auto; padding: 1.5rem; background: var(--bg-color); display: flex; flex-direction: column; gap: 1rem;">
                                        <!-- Welcome Message -->
                                        <div class="ai-message" style="align-self: flex-start; max-width: 75%;">
                                            <div style="display: flex; gap: 0.75rem; align-items: start;">
                                                <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; flex-shrink: 0;">ü§ñ</div>
                                                <div style="background: white; padding: 1rem; border-radius: 1rem; box-shadow: var(--shadow); border-top-left-radius: 0.25rem;">
                                                    <p style="margin: 0; color: var(--text-primary); line-height: 1.6;">
                                                        üëã Hello! I'm Rilono AI, your personal assistant for visa documentation and guidance. I can help you with:
                                                    </p>
                                                    <ul style="margin: 0.75rem 0 0 0; padding-left: 1.25rem; color: var(--text-primary);">
                                                        <li>Document requirements and checklists</li>
                                                        <li>Visa application guidance</li>
                                                        <li>Profile completion status</li>
                                                        <li>Answering questions about your documents</li>
                                                    </ul>
                                                    <p style="margin: 0.75rem 0 0 0; color: var(--text-primary);">
                                                        How can I assist you today?
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Chat Input Area -->
                                    <div style="padding: 1rem 1.5rem; background: white; border-top: 1px solid var(--border-color);">
                                        <form id="rilonoAiChatForm" style="display: flex; gap: 0.75rem; align-items: flex-end;">
                                            <div style="flex: 1; position: relative;">
                                                <textarea 
                                                    id="rilonoAiChatInput" 
                                                    rows="1" 
                                                    placeholder="Ask me anything about your visa documents or requirements..."
                                                    style="width: 100%; padding: 0.875rem 3rem 0.875rem 1rem; border: 2px solid var(--border-color); border-radius: 1.5rem; font-size: 0.9375rem; resize: none; font-family: inherit; transition: border-color 0.2s; max-height: 120px;"
                                                    onkeydown="handleRilonoAiChatKeyDown(event)"
                                                    oninput="autoResizeRilonoAiInput(this)"
                                                ></textarea>
                                                <button 
                                                    type="submit" 
                                                    id="rilonoAiSendButton"
                                                    style="position: absolute; right: 0.5rem; bottom: 0.5rem; width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); border: none; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: transform 0.2s; font-size: 1.125rem;"
                                                    onmouseover="this.style.transform='scale(1.1)'"
                                                    onmouseout="this.style.transform='scale(1)'"
                                                >
                                                    ‚û§
                                                </button>
                                            </div>
                                        </form>
                                        <div style="margin-top: 0.75rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                            <button 
                                                type="button" 
                                                class="quick-chat-btn"
                                                onclick="sendQuickMessage('What documents do I need to upload?')"
                                                style="padding: 0.5rem 1rem; background: var(--bg-color); border: 1px solid var(--border-color); border-radius: 1rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; color: var(--text-primary);"
                                                onmouseover="this.style.background='var(--primary-color)'; this.style.color='white'; this.style.borderColor='var(--primary-color)'"
                                                onmouseout="this.style.background='var(--bg-color)'; this.style.color='var(--text-primary)'; this.style.borderColor='var(--border-color)'"
                                            >
                                                üìã Document Checklist
                                            </button>
                                            <button 
                                                type="button" 
                                                class="quick-chat-btn"
                                                onclick="sendQuickMessage('What is my profile completion status?')"
                                                style="padding: 0.5rem 1rem; background: var(--bg-color); border: 1px solid var(--border-color); border-radius: 1rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; color: var(--text-primary);"
                                                onmouseover="this.style.background='var(--primary-color)'; this.style.color='white'; this.style.borderColor='var(--primary-color)'"
                                                onmouseout="this.style.background='var(--bg-color)'; this.style.color='var(--text-primary)'; this.style.borderColor='var(--border-color)'"
                                            >
                                                üìä Profile Status
                                            </button>
                                            <button 
                                                type="button" 
                                                class="quick-chat-btn"
                                                onclick="sendQuickMessage('Help me with visa application process')"
                                                style="padding: 0.5rem 1rem; background: var(--bg-color); border: 1px solid var(--border-color); border-radius: 1rem; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; color: var(--text-primary);"
                                                onmouseover="this.style.background='var(--primary-color)'; this.style.color='white'; this.style.borderColor='var(--primary-color)'"
                                                onmouseout="this.style.background='var(--bg-color)'; this.style.color='var(--text-primary)'; this.style.borderColor='var(--border-color)'"
                                            >
                                                üõÇ Visa Help
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Section -->
    <div id="privacySection" class="section" style="display: none;">
        <div class="legal-page">
            <h1>Privacy Policy</h1>
            <p class="last-updated">Last Updated: <span id="privacyLastUpdated"></span></p>
            
            <section>
                <h2>1. Introduction</h2>
                <p>Welcome to Rilono ("we," "our," or "us"). We are committed to protecting your privacy and ensuring you have a positive experience on our platform. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our student marketplace platform.</p>
            </section>

            <section>
                <h2>2. Information We Collect</h2>
                <h3>2.1 Information You Provide</h3>
                <ul>
                    <li><strong>Account Information:</strong> Email address, username, password, full name, university, and phone number</li>
                    <li><strong>Profile Information:</strong> Profile picture and any additional information you choose to provide</li>
                    <li><strong>Item Listings:</strong> Item titles, descriptions, prices, images, categories, conditions, and location information</li>
                    <li><strong>Messages:</strong> Content of messages sent through our messaging system</li>
                    <li><strong>Location Data:</strong> Address, city, state, zip code, and coordinates (latitude/longitude) for item pickup locations</li>
                </ul>

                <h3>2.2 Automatically Collected Information</h3>
                <ul>
                    <li><strong>Usage Data:</strong> Information about how you interact with our platform, including pages visited, features used, and time spent</li>
                    <li><strong>Device Information:</strong> IP address, browser type, device type, operating system, and unique device identifiers</li>
                    <li><strong>Cookies and Tracking:</strong> We use cookies and similar tracking technologies to enhance your experience</li>
                </ul>
            </section>

            <section>
                <h2>3. How We Use Your Information</h2>
                <p>We use the information we collect to:</p>
                <ul>
                    <li>Provide, maintain, and improve our services</li>
                    <li>Process transactions and facilitate communication between buyers and sellers</li>
                    <li>Send you important updates, notifications, and administrative messages</li>
                    <li>Respond to your inquiries and provide customer support</li>
                    <li>Detect, prevent, and address technical issues and fraudulent activity</li>
                    <li>Comply with legal obligations and enforce our Terms of Service</li>
                    <li>Analyze usage patterns to improve user experience</li>
                </ul>
            </section>

            <section>
                <h2>4. How We Share Your Information</h2>
                <p>We do not sell your personal information. We may share your information in the following circumstances:</p>
                <ul>
                    <li><strong>Public Profile Information:</strong> Your username, profile picture, and university may be visible to other users when you list items or send messages</li>
                    <li><strong>Item Listings:</strong> Information you provide in item listings (title, description, images, location) is publicly visible to all users</li>
                    <li><strong>Service Providers:</strong> We may share information with third-party service providers who assist us in operating our platform (e.g., hosting, analytics)</li>
                    <li><strong>Legal Requirements:</strong> We may disclose information if required by law or to protect our rights and safety</li>
                    <li><strong>Business Transfers:</strong> In the event of a merger, acquisition, or sale of assets, your information may be transferred</li>
                </ul>
            </section>

            <section>
                <h2>5. Data Security</h2>
                <p>We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the internet or electronic storage is 100% secure, and we cannot guarantee absolute security.</p>
            </section>

            <section>
                <h2>6. Your Rights and Choices</h2>
                <p>You have the right to:</p>
                <ul>
                    <li><strong>Access:</strong> Request access to your personal information</li>
                    <li><strong>Correction:</strong> Update or correct your personal information through your account settings</li>
                    <li><strong>Deletion:</strong> Delete your account and associated data by using the account deletion feature in your dashboard</li>
                    <li><strong>Opt-Out:</strong> Unsubscribe from non-essential communications</li>
                    <li><strong>Data Portability:</strong> Request a copy of your data in a portable format</li>
                </ul>
            </section>

            <section>
                <h2>7. Cookies and Tracking Technologies</h2>
                <p>We use cookies and similar technologies to:</p>
                <ul>
                    <li>Remember your preferences and settings</li>
                    <li>Analyze how you use our platform</li>
                    <li>Provide personalized content and advertisements</li>
                </ul>
                <p>You can control cookies through your browser settings, but this may affect the functionality of our platform.</p>
            </section>

            <section>
                <h2>8. Children's Privacy</h2>
                <p>Our platform is intended for students and users who are at least 13 years of age. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately.</p>
            </section>

            <section>
                <h2>9. Third-Party Links</h2>
                <p>Our platform may contain links to third-party websites or services. We are not responsible for the privacy practices of these third parties. We encourage you to review their privacy policies.</p>
            </section>

            <section>
                <h2>10. International Users</h2>
                <p>If you are accessing our platform from outside the United States, please note that your information may be transferred to, stored, and processed in the United States. By using our platform, you consent to the transfer of your information to the United States.</p>
            </section>

            <section>
                <h2>11. Changes to This Privacy Policy</h2>
                <p>We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. Your continued use of our platform after such changes constitutes acceptance of the updated policy.</p>
            </section>

            <section>
                <h2>12. Contact Us</h2>
                <p>If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us at:</p>
                <p>
                    <strong>Email:</strong> privacy@rilono.com<br>
                    <strong>Address:</strong> [Your Company Address]
                </p>
            </section>

            <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                <a href="#" onclick="event.preventDefault(); showHomepage(); return false;" class="btn btn-primary">Back to Home</a>
            </div>
        </div>
    </div>

    <!-- Terms & Conditions Section -->
    <div id="termsSection" class="section" style="display: none;">
        <div class="legal-page">
            <h1>Terms and Conditions</h1>
            <p class="last-updated">Last Updated: <span id="termsLastUpdated"></span></p>
            
            <section>
                <h2>1. Acceptance of Terms</h2>
                <p>By accessing and using Rilono ("the Platform," "we," "us," or "our"), you accept and agree to be bound by these Terms and Conditions ("Terms"). If you do not agree to these Terms, please do not use our platform.</p>
            </section>

            <section>
                <h2>2. Description of Service</h2>
                <p>Rilono is a student marketplace platform that allows users to buy and sell items, communicate with other users, and manage their listings. We provide a platform for connecting buyers and sellers but are not a party to any transactions between users.</p>
            </section>

            <section>
                <h2>3. User Accounts</h2>
                <h3>3.1 Registration</h3>
                <ul>
                    <li>You must be at least 13 years old to use our platform</li>
                    <li>You must provide accurate, current, and complete information during registration</li>
                    <li>You are responsible for maintaining the confidentiality of your account credentials</li>
                    <li>You are responsible for all activities that occur under your account</li>
                </ul>

                <h3>3.2 Account Termination</h3>
                <p>We reserve the right to suspend or terminate your account at any time for violations of these Terms, fraudulent activity, or any other reason we deem necessary.</p>
            </section>

            <section>
                <h2>4. User Conduct</h2>
                <p>You agree not to:</p>
                <ul>
                    <li>Post false, misleading, or fraudulent information</li>
                    <li>List prohibited items (weapons, drugs, stolen goods, etc.)</li>
                    <li>Harass, threaten, or abuse other users</li>
                    <li>Spam, scam, or engage in fraudulent transactions</li>
                    <li>Violate any applicable laws or regulations</li>
                    <li>Infringe on intellectual property rights</li>
                    <li>Interfere with or disrupt the platform's functionality</li>
                    <li>Use automated systems to access the platform without permission</li>
                    <li>Impersonate any person or entity</li>
                </ul>
            </section>

            <section>
                <h2>5. Item Listings</h2>
                <h3>5.1 Listing Requirements</h3>
                <ul>
                    <li>All item descriptions must be accurate and truthful</li>
                    <li>Images must accurately represent the item</li>
                    <li>Prices must be clearly stated</li>
                    <li>Items must be legal to buy and sell in your jurisdiction</li>
                </ul>

                <h3>5.2 Prohibited Items</h3>
                <p>You may not list items that are:</p>
                <ul>
                    <li>Illegal or regulated (weapons, drugs, alcohol, etc.)</li>
                    <li>Stolen or counterfeit</li>
                    <li>Hazardous materials</li>
                    <li>Live animals (except as permitted by law)</li>
                    <li>Adult content or explicit material</li>
                    <li>Items that violate intellectual property rights</li>
                </ul>

                <h3>5.3 Listing Moderation</h3>
                <p>We reserve the right to remove, edit, or reject any listing that violates these Terms or our community guidelines.</p>
            </section>

            <section>
                <h2>6. Transactions</h2>
                <h3>6.1 Buyer and Seller Responsibilities</h3>
                <ul>
                    <li>Buyers and sellers are responsible for negotiating terms of sale</li>
                    <li>All transactions are between users; Rilono is not a party to any transaction</li>
                    <li>Users are responsible for payment processing and delivery arrangements</li>
                    <li>We do not guarantee the quality, safety, or legality of items listed</li>
                </ul>

                <h3>6.2 Disputes</h3>
                <p>Any disputes between buyers and sellers must be resolved directly between the parties. Rilono is not responsible for resolving disputes, though we may provide tools to facilitate communication.</p>
            </section>

            <section>
                <h2>7. Messaging</h2>
                <p>Our messaging system is intended for communication related to items and transactions. You agree not to:</p>
                <ul>
                    <li>Send spam, unsolicited messages, or advertisements</li>
                    <li>Harass, threaten, or abuse other users</li>
                    <li>Share personal contact information to circumvent our platform</li>
                    <li>Use messaging for any illegal purpose</li>
                </ul>
            </section>

            <section>
                <h2>8. Intellectual Property</h2>
                <h3>8.1 Platform Content</h3>
                <p>All content on the platform, including text, graphics, logos, and software, is the property of Rilono or its licensors and is protected by copyright and other intellectual property laws.</p>

                <h3>8.2 User Content</h3>
                <p>By posting content on our platform, you grant us a non-exclusive, worldwide, royalty-free license to use, display, and distribute your content in connection with operating the platform.</p>
            </section>

            <section>
                <h2>9. Disclaimers and Limitation of Liability</h2>
                <h3>9.1 Platform "As Is"</h3>
                <p>Our platform is provided "as is" and "as available" without warranties of any kind, either express or implied. We do not guarantee that the platform will be uninterrupted, error-free, or secure.</p>

                <h3>9.2 Limitation of Liability</h3>
                <p>To the maximum extent permitted by law, Rilono shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses.</p>

                <h3>9.3 No Warranty</h3>
                <p>We do not warrant the accuracy, completeness, or usefulness of any information on the platform. We are not responsible for the conduct of any user or the outcome of any transaction.</p>
            </section>

            <section>
                <h2>10. Indemnification</h2>
                <p>You agree to indemnify and hold harmless Rilono, its officers, directors, employees, and agents from any claims, damages, losses, liabilities, and expenses (including legal fees) arising out of your use of the platform, violation of these Terms, or infringement of any rights of another.</p>
            </section>

            <section>
                <h2>11. Privacy</h2>
                <p>Your use of our platform is also governed by our Privacy Policy. Please review our Privacy Policy to understand how we collect, use, and protect your information.</p>
            </section>

            <section>
                <h2>12. Modifications to Terms</h2>
                <p>We reserve the right to modify these Terms at any time. We will notify users of material changes by posting the updated Terms on this page and updating the "Last Updated" date. Your continued use of the platform after such changes constitutes acceptance of the updated Terms.</p>
            </section>

            <section>
                <h2>13. Termination</h2>
                <p>We may terminate or suspend your account and access to the platform immediately, without prior notice, for any reason, including breach of these Terms. Upon termination, your right to use the platform will cease immediately.</p>
            </section>

            <section>
                <h2>14. Governing Law</h2>
                <p>These Terms shall be governed by and construed in accordance with the laws of [Your Jurisdiction], without regard to its conflict of law provisions.</p>
            </section>

            <section>
                <h2>15. Contact Information</h2>
                <p>If you have any questions about these Terms, please contact us at:</p>
                <p>
                    <strong>Email:</strong> support@rilono.com<br>
                    <strong>Address:</strong> [Your Company Address]
                </p>
            </section>

            <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                <a href="#" onclick="event.preventDefault(); showHomepage(); return false;" class="btn btn-primary">Back to Home</a>
            </div>
        </div>
    </div>

    <div id="message" class="message"></div>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" onclick="event.preventDefault(); showPrivacy(); return false;">Privacy Policy</a>
                <a href="#" onclick="event.preventDefault(); showTerms(); return false;">Terms & Conditions</a>
            </div>
            <div class="footer-copyright">
                ¬© 2025 Rilono. All rights reserved.
            </div>
        </div>
    </footer>
    
    <!-- Image Gallery Modal -->
    <div id="imageGalleryModal" class="image-gallery-modal" style="display: none;">
        <div class="image-gallery-overlay" onclick="closeImageGallery()"></div>
        <div class="image-gallery-container">
            <button class="image-gallery-close" onclick="closeImageGallery()" aria-label="Close gallery">√ó</button>
            <button class="image-gallery-nav image-gallery-prev" onclick="navigateGallery(-1)" aria-label="Previous image">‚Äπ</button>
            <button class="image-gallery-nav image-gallery-next" onclick="navigateGallery(1)" aria-label="Next image">‚Ä∫</button>
            <div class="image-gallery-main">
                <img id="galleryMainImage" src="" alt="Item image">
            </div>
            <div class="image-gallery-info">
                <span id="galleryImageCounter">1 / 1</span>
            </div>
            <div class="image-gallery-thumbnails" id="galleryThumbnails">
                <!-- Thumbnails will be added here -->
            </div>
        </div>
    </div>
    
    <!-- Floating AI Chat Widget -->
    <div id="floatingAiChatWidget" class="floating-chat-widget" style="display: none;">
        <div id="floatingChatToggle" class="floating-chat-toggle" onclick="toggleFloatingChat()">
            <div class="chat-icon">ü§ñ</div>
            <div class="chat-badge" id="floatingChatBadge" style="display: none;">1</div>
        </div>
        <div id="floatingChatWindow" class="floating-chat-window" style="display: none;">
            <div class="floating-chat-header">
                <div class="floating-chat-header-info">
                    <div class="chat-avatar">ü§ñ</div>
                    <div>
                        <div class="chat-title">Rilono AI</div>
                        <div class="chat-subtitle">Your Visa Expert Assistant</div>
                    </div>
                </div>
                <button class="chat-minimize-btn" onclick="toggleFloatingChat()" title="Minimize">‚àí</button>
            </div>
            <div class="floating-chat-messages" id="floatingChatMessages">
                <!-- Messages will be added here dynamically -->
            </div>
            <div id="floatingChatLoginPrompt" class="chat-login-prompt" style="display: none;">
                <div class="login-prompt-content">
                    <p>üëã Please login to chat with Rilono AI</p>
                    <div class="login-prompt-buttons">
                        <button class="btn btn-primary" onclick="showLogin(); toggleFloatingChat();">Login</button>
                        <button class="btn btn-secondary" onclick="showRegister(); toggleFloatingChat();">Register</button>
                    </div>
                </div>
            </div>
            <div class="floating-chat-input-container" id="floatingChatInputContainer" style="display: none;">
                <form id="floatingChatForm" class="floating-chat-form" onsubmit="handleFloatingChatSubmit(event); return false;">
                    <textarea 
                        id="floatingChatInput" 
                        class="floating-chat-input" 
                        placeholder="Type your message..."
                        rows="1"
                        onkeydown="handleFloatingChatKeyDown(event)"
                        oninput="autoResizeFloatingChatInput(this)"
                    ></textarea>
                    <button type="submit" class="floating-chat-send-btn" title="Send">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </form>
            </div>
            <div id="floatingChatTyping" class="chat-typing-indicator" style="display: none;">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </div>
    
    <script src="/static/app.js"></script>
</body>
</html>

